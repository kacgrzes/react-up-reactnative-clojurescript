import { Example } from 'components'
import { CodeSurferSplit } from 'components'

# ClojureScript

---

## What is ClojureScript?

- Clojure in JavaScript world
- [ClojureScript compiler](https://github.com/clojure/clojurescript) - compiles clojurescript to javascript
- [Google Clojure Compiler](https://developers.google.com/closure/compiler/) - compiles javascript to "better javascript"

```notes
ClojureScript compiler and renames variables 
to shorter names, removes whitespace, removes 
comments, etc. in an effort to reduce the 
source size while maintaining the program 
semantics.
```

---

## ClojureScript vs JavaScript

---

<CodeSurferSplit
  title={"Basics"}
  codeTop={require("!raw-loader!snippets/basics.cljs")}
  codeBottom={require("!raw-loader!snippets/basics.js")}
  langTop="java"
  langBottom="java"
  showNumbers={false}
  stepsTop={[
    { notes: "What is macro?"},
    { lines: [1], notes: "double quote string" },
    { lines: [2], notes: "single quote string" },
    { lines: [3], notes: "booleans" },
    { lines: [4], notes: "nothing" },
    { lines: [5], notes: "keywords" },
    { lines: [6], notes: "int numbers" },
    { lines: [7], notes: "float numbers" },
  ]}
  stepsBottom={[
    { notes: "What is macro?"},
    { lines: [1]},
    { lines: [2]},
    { lines: [3]},
    { lines: [4]},
    { lines: [5]},
    { lines: [6]},
    { lines: [7]},
  ]}
/>

---

<CodeSurferSplit
  title={"Collections"}
  codeTop={
    `
[1 2 3 4]
{:one 1 :two 2}
#{1 2 3}
    `
  }
  codeBottom={
    `
[1, 2, 3, 4]
{one 1, two 2}
new Set(1, 2, 3)
    `
  }
  langTop="java"
  langBottom="js"
  showNumbers={false}
  stepsTop={[
    { notes: "What about collections?"},
    { lines: [2], notes: "vector vs arrays" },
    { lines: [3], notes: "map vs object" },
    { lines: [4], notes: "set vs set" }
  ]}
  stepsBottom={[
    { notes: ""},
    { lines: [2]},
    { lines: [3]},
    { lines: [4]}
  ]}
/>

---

<CodeSurferSplit
  title={"Functions"}
  codeTop={require("!raw-loader!snippets/functions.cljs")}
  codeBottom={require("!raw-loader!snippets/functions.js")}
  langTop="java"
  langBottom="js"
  showNumbers={false}
  stepsTop={[
    { notes: "How about functions?"},
    { lines: [1], notes: "function definition" },
    { lines: [3], notes: "function call" },
    { lines: [5], notes: "anonymous function definition" },
    { lines: [7], notes: "short anonymous function definition" },
    { lines: [9], notes: "assign short anonymous function to variable" }
  ]}
  stepsBottom={[
    { notes: ""},
    { lines: [1,2,3] },
    { lines: [5] },
    { lines: [7,8,9] },
    { lines: [11] },
    { lines: [13] }
  ]}
/>

---

<CodeSurferSplit
  title={"Flow control"}
  codeTop={require("!raw-loader!snippets/flow-control.cljs")}
  codeBottom={require("!raw-loader!snippets/flow-control.js")}
  langTop="java"
  langBottom="js"
  showNumbers={false}
  stepsTop={[
    { notes: "if / else / case?"},
    { lines: [1], notes: "if without else" },
    { lines: [3], notes: "if with else" },
    { range: [5, 10], notes: "if with multiple elses" },
    { range: [12, 17], notes: "switch" }
  ]}
  stepsBottom={[
    { notes: ""},
    { range: [1,3] },
    { range: [5,9] },
    { range: [11,19] },
    { range: [21,30] }
  ]}
/>

---

import { CodeSurfer } from "mdx-deck-code-surfer"

<CodeSurfer
  title="Macro example (offtop)"
  code={require("!raw-loader!snippets/macro-example.cljs")}
  lang="java"
  showNumbers={false}
  dark={false}
  steps={[
    { notes: "What is macro?"},
    { range: [1, 6], notes: "We know what it does" },
    { range: [8, 11], notes: "but how does it actually work?" },
    { tokens: { 8: [2] }, notes: "Note for the third step" },
    { range: [13, 17], notes: "Note for the third step" }
  ]}
/>

---

<CodeSurferSplit
  title={"Interop"}
  codeTop={require("!raw-loader!snippets/interop.cljs")}
  codeBottom={require("!raw-loader!snippets/interop.js")}
  langTop="java"
  langBottom="java"
  showNumbers={false}
  stepsTop={[
    { notes: "What is interop?"},
    { lines: [1], notes: "Window method call" },
    { lines: [3], notes: "Method call" },
    { lines: [5], notes: "Property access" },
    { lines: [7], notes: "Property setting" },
  ]}
  stepsBottom={[
    { notes: "What is macro?"},
    { lines: [1] },
    { lines: [3] },
    { lines: [5] },
    { lines: [7] },
  ]}
/>

---

<Example
  title={'State'}
  fontSize={'30px'}
  cljs={[
    '(atom {:one 1 :two 2}) ; atom'
  ]}
  js={[
    `// requires redux / mobx /'
// or any other state management
// library'`
  ]}
/>
